{% extends "index.html" %}

{% block title %}{{ page.title }}{{ config.extra.title_separator }}{{ config.title }}{% endblock title %}
{% block description %}{{ page.description | default(value=config.description) }}{% endblock description %}

{% block header %}
<header class="space">
    <a href="{{ config.base_url }}">home</a>
</header>
{% endblock header %}

{% block content %}
	<article class="h-entry"
		{% if page.extra.lang %}
		lang="{{ page.extra.lang }}"
		{% else %}
		lang="{{ page.lang }}"
		{% endif %}
	>
		<meta name="fediverse:creator" content="{{ config.extra.mastodon_username }}">
<main id="maincontent"

		<link class="u-url" href="{{ page.permalink }}" />

		<!-- a p-author with an embedded h-card -->
		<div class="p-author h-card">
			<link class="p-name" title="{{ config.title }}" />
			<link class="u-url" href="{{ config.base_url }}" />
			<link class="u-photo" href="{{config.extra.photo}}" />
		</div>
		
		<header>
			{% if page.extra.bookmark_of %}
			<p class="u-bookmark-of">
				bookmark of <a href="{{ page.extra.bookmark_of }}">
					{{ page.extra.bookmark_of }}
				</a>
			</p>
			{% endif %}

			{% if page.extra.repost_of %}
			<p class="u-repost-of">
				repost of <a href="{{ page.extra.repost_of }}">
					{{ page.extra.repost_of }}
				</a>
			</p>
			{% endif %}

    		{% if page.title %}	
			<h1 class="p-name">
				{{ page.title }}
			</h1>
			{% endif %}
		
			{% if page.description %}
			<p class="p-summary">
				{{ page.description }}
			</p>
			{% endif %}

			{% if page.date or page.updated or page.extra.syndication %}
			<p class="secondary">
				{% if page.date %}
				published on the
    			<time class="dt-published">
					{{ page.date | date(format="%Y-%m-%d") }}
				</time>
				<br />
				{% endif %}

				{% if page.updated %}
				updated on the
    			<time class="dt-updated">{{ page.updated | date(format="%Y-%m-%d") }}</time>
				<br />
				{% endif %}

				{% if page.extra.syndication %}
				also on:
				<ul>
					{% for syndication in page.extra.syndication %}
					<li><a class="u-syndication" href="{{ syndication.href }}">
						{{ syndication.title }}
					</a></li>
					{% endfor %}
				</ul>
				{% endif %}
			</p>
			{% endif %}
		</header>

		<div class="e-content">{{ page.content | safe }}</div>

	</article>
</main>
{% endblock content %}
